# Copy to: .env
SERVER_IP=192.168.x.xx
# SSH login username on the server node
SERVER_SSH_USER=xxx
# Space/comma-separated worker IPs for multi-node clusters.
WORKER_IPS="192.168.x.xx 192.168.x.yy"
# Legacy single-worker fallback (optional):
# PI_WORKER_IP=192.168.x.zz

# Optional overrides
# SSH login username on the worker node (this is not the hostname)
WORKER_SSH_USER=x
SSH_KEY=xxx
# Set to false only when using root SSH user and no sudo on nodes.
K3SUP_USE_SUDO=true
# K3S_API_ENDPOINT=k3s-api.lan

# Ports to free before bootstrap (space-separated). Default focuses on MetalLB speaker conflict.
SERVER_PORT_CLEANUP_PORTS="7946"
WORKER_PORT_CLEANUP_PORTS="7946"
# Also clean server k3s API port conflicts by default (non-k3s listener on 6443).
SERVER_CLEAN_K3S_API_PORT=true
# If true, cleanup can stop existing k3s listener on 6443 as well.
SERVER_STOP_K3S_ON_PORT_CLEANUP=false

# Optional platform add-ons (used by make platform)
INSTALL_METRICS_SERVER=true
INSTALL_METALLB=false
# METALLB_ADDRESS_POOL=192.168.x.240-192.168.x.250
INSTALL_INGRESS_NGINX=false
INSTALL_CERT_MANAGER=false

# AtlasNet image + deploy options (used by make images/publish/deploy/up)
# Required:
IMAGE_REPO=ghcr.io/your-org-or-user/atlasnet
# Optional:
# - If set, this fixed tag is used.
# - If empty, scripts auto-use git short SHA (fallback: latest) and record last tag.
IMAGE_TAG=
# Multi-arch platforms for publish:
IMAGE_PLATFORMS=linux/amd64,linux/arm64
# Local build platform for make images (defaults to first IMAGE_PLATFORMS entry):
IMAGE_BUILD_PLATFORM=
# Optional additional tagging:
WITH_LATEST_TAG=false
# Optional build tuning:
# BUILD_DIR=/home/user/project/build
BAKE_FILE=docker/dockerfiles/docker-bake.json
# BUILDER_NAME=atlasnet-builder
# TOOLCHAIN_FILE=$HOME/vcpkg/scripts/buildsystems/vcpkg.cmake

# Deploy options:
NAMESPACE=atlasnet
# Optional context override when kubeconfig has multiple contexts:
# KUBECTL_CONTEXT=k3s-homelab
# Optional proxy endpoint registration for external clients:
# PROXY_PUBLIC_IP=atlasnet.lan
PROXY_PUBLIC_PORT=2555
# Optional private registry pull secret handling:
# Set CREATE_PULL_SECRET=true to auto create/update the secret before deploy.
IMAGE_PULL_SECRET_NAME=
CREATE_PULL_SECRET=false
REGISTRY_SERVER=ghcr.io
REGISTRY_USERNAME=
REGISTRY_PASSWORD=
REGISTRY_EMAIL=
